<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∫–∞–Ω–µ—Ä —á–µ–∫–æ–≤</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="header">
                <div class="icon">üìÑ</div>
                <h1>–°–∫–∞–Ω–µ—Ä —á–µ–∫–æ–≤</h1>
                <p>–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π—Ç–µ —á–µ–∫ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞</p>
            </div>

            <div id="uploadSection" class="upload-section">
                <div class="upload-buttons">
                    <button class="upload-btn" onclick="document.getElementById('cameraInput').click()">
                        <span class="btn-icon">üì∑</span>
                        <span class="btn-text">–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å</span>
                        <span class="btn-subtitle">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–º–µ—Ä—É</span>
                    </button>

                    <button class="upload-btn" onclick="document.getElementById('fileInput').click()">
                        <span class="btn-icon">üìÅ</span>
                        <span class="btn-text">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</span>
                        <span class="btn-subtitle">–í—ã–±—Ä–∞—Ç—å –∏–∑ –≥–∞–ª–µ—Ä–µ–∏</span>
                    </button>
                </div>
            </div>

            <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display: none;">
            <input type="file" id="fileInput" accept="image/*" style="display: none;">

            <div id="resultSection" class="result-section" style="display: none;">
                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ -->
                <div class="settings-panel">
                    <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏</h3>
                    <div class="settings-grid">
                        <label class="setting-item">
                            <input type="checkbox" id="autoRotate" checked>
                            <span>–ê–≤—Ç–æ–ø–æ–≤–æ—Ä–æ—Ç</span>
                        </label>
                        <label class="setting-item">
                            <input type="checkbox" id="enhanceContrast" checked>
                            <span>–£—Å–∏–ª–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞—Å—Ç</span>
                        </label>
                        <label class="setting-item">
                            <input type="checkbox" id="denoise" checked>
                            <span>–£–±—Ä–∞—Ç—å —à—É–º</span>
                        </label>
                        <label class="setting-item">
                            <input type="checkbox" id="sharpen" checked>
                            <span>–£–≤–µ–ª–∏—á–∏—Ç—å —Ä–µ–∑–∫–æ—Å—Ç—å</span>
                        </label>
                        <label class="setting-item">
                            <input type="checkbox" id="binarize">
                            <span>–ß–µ—Ä–Ω–æ-–±–µ–ª—ã–π —Ä–µ–∂–∏–º</span>
                        </label>
                    </div>
                    <button class="reprocess-btn" onclick="reprocessImage()">üîÑ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                </div>

                <div class="result-grid">
                    <div class="image-container">
                        <div class="section-header">
                            <h3>–ò—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</h3>
                            <button class="reset-btn" onclick="resetApp()">‚úï</button>
                        </div>
                        <img id="previewImage" alt="–ß–µ–∫">
                        
                        <div class="processed-preview">
                            <h4>–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</h4>
                            <canvas id="processedCanvas"></canvas>
                        </div>
                    </div>

                    <div class="text-container">
                        <div class="section-header">
                            <h3>–†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</h3>
                            <button id="downloadBtn" class="download-btn" onclick="downloadText()" style="display: none;">
                                üíæ –°–∫–∞—á–∞—Ç—å
                            </button>
                        </div>

                        <div id="processingIndicator" class="processing" style="display: none;">
                            <div class="spinner"></div>
                            <p>–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...</p>
                            <p id="progressText" class="progress-text"></p>
                        </div>

                        <div id="errorMessage" class="error" style="display: none;"></div>

                        <textarea id="extractedText" 
                                  placeholder="–†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å..."
                                  style="display: none;"></textarea>
                    </div>
                </div>
            </div>

            <div class="tip">
                <strong>üí° –°–æ–≤–µ—Ç:</strong> –î–ª—è –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —á–µ–∫ —Ö–æ—Ä–æ—à–æ –æ—Å–≤–µ—â–µ–Ω, —Ç–µ–∫—Å—Ç —á–µ—Ç–∫–∏–π –∏ —á–∏—Ç–∞–µ–º—ã–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è.
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/tesseract.js@v4.0.1/dist/tesseract.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
